{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nvar _jsxFileName = \"/Users/brentvatne/coding/react-navigation-stack/src/views/Header/ModularHeaderBackButton.tsx\";\nimport * as React from 'react';\nimport I18nManager from \"react-native-web/dist/exports/I18nManager\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TouchableItem from \"../TouchableItem\";\nimport defaultBackImage from \"../assets/back-icon.png\";\nvar ModularHeaderBackButton = function (_React$PureComponent) {\n  _inherits(ModularHeaderBackButton, _React$PureComponent);\n  function ModularHeaderBackButton() {\n    var _getPrototypeOf2;\n    var _this;\n    _classCallCheck(this, ModularHeaderBackButton);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(ModularHeaderBackButton)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {};\n    _this.onTextLayout = function (e) {\n      if (_this.state.initialTextWidth) {\n        return;\n      }\n      _this.setState({\n        initialTextWidth: e.nativeEvent.layout.x + e.nativeEvent.layout.width\n      });\n    };\n    _this.getTitleText = function () {\n      var _this$props = _this.props,\n        width = _this$props.width,\n        title = _this$props.title,\n        truncatedTitle = _this$props.truncatedTitle;\n      var initialTextWidth = _this.state.initialTextWidth;\n      if (title === null) {\n        return null;\n      } else if (!title) {\n        return truncatedTitle;\n      } else if (initialTextWidth && width && initialTextWidth > width) {\n        return truncatedTitle;\n      } else {\n        return title.length > 8 ? truncatedTitle : title;\n      }\n    };\n    return _this;\n  }\n  _createClass(ModularHeaderBackButton, [{\n    key: \"renderBackImage\",\n    value: function renderBackImage() {\n      var _this$props2 = this.props,\n        backImage = _this$props2.backImage,\n        backTitleVisible = _this$props2.backTitleVisible,\n        tintColor = _this$props2.tintColor;\n      if (React.isValidElement(backImage)) {\n        return backImage;\n      } else if (backImage) {\n        var BackImage = backImage;\n        return React.createElement(BackImage, {\n          tintColor: tintColor,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 50\n          }\n        });\n      } else {\n        return React.createElement(Image, {\n          style: [styles.icon, !!backTitleVisible && styles.iconWithTitle, !!tintColor && {\n            tintColor: tintColor\n          }],\n          source: defaultBackImage,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 53\n          }\n        });\n      }\n    }\n  }, {\n    key: \"maybeRenderTitle\",\n    value: function maybeRenderTitle() {\n      var _this$props3 = this.props,\n        backTitleVisible = _this$props3.backTitleVisible,\n        titleStyle = _this$props3.titleStyle,\n        tintColor = _this$props3.tintColor;\n      var backTitleText = this.getTitleText();\n      if (!backTitleVisible || backTitleText === null) {\n        return null;\n      }\n      var LabelContainerComponent = this.props.LabelContainerComponent;\n      return React.createElement(LabelContainerComponent, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        }\n      }, React.createElement(Text, {\n        accessible: false,\n        onLayout: this.onTextLayout,\n        style: [styles.title, !!tintColor && {\n          color: tintColor\n        }, titleStyle],\n        numberOfLines: 1,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        }\n      }, this.getTitleText()));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props4 = this.props,\n        onPress = _this$props4.onPress,\n        title = _this$props4.title;\n      var ButtonContainerComponent = this.props.ButtonContainerComponent;\n      return React.createElement(TouchableItem, {\n        accessibilityComponentType: \"button\",\n        accessibilityLabel: title ? title + \", back\" : 'Go back',\n        accessibilityTraits: \"button\",\n        testID: \"header-back\",\n        delayPressIn: 0,\n        onPress: onPress,\n        style: styles.container,\n        borderless: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        }\n      }, React.createElement(View, {\n        style: styles.container,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        }\n      }, React.createElement(ButtonContainerComponent, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        }\n      }, this.renderBackImage()), this.maybeRenderTitle()));\n    }\n  }]);\n  return ModularHeaderBackButton;\n}(React.PureComponent);\nModularHeaderBackButton.defaultProps = {\n  tintColor: '#037aff',\n  truncatedTitle: 'Back'\n};\nvar styles = StyleSheet.create({\n  container: {\n    alignItems: 'center',\n    flexDirection: 'row',\n    backgroundColor: 'transparent',\n    marginBottom: 1,\n    overflow: 'visible'\n  },\n  title: {\n    fontSize: 17,\n    paddingRight: 10\n  },\n  icon: {\n    height: 21,\n    width: 12,\n    marginLeft: 9,\n    marginRight: 22,\n    marginVertical: 12,\n    resizeMode: 'contain',\n    transform: [{\n      scaleX: I18nManager.isRTL ? -1 : 1\n    }]\n  },\n  iconWithTitle: {\n    marginRight: 3\n  }\n});\nexport default ModularHeaderBackButton;","map":{"version":3,"names":["React","I18nManager","Image","Text","View","StyleSheet","TouchableItem","defaultBackImage","ModularHeaderBackButton","state","onTextLayout","e","_this","initialTextWidth","setState","nativeEvent","layout","x","width","getTitleText","_this$props","props","title","truncatedTitle","length","_this$props2","backImage","backTitleVisible","tintColor","isValidElement","BackImage","createElement","__source","fileName","_jsxFileName","lineNumber","style","styles","icon","iconWithTitle","source","_this$props3","titleStyle","backTitleText","LabelContainerComponent","accessible","onLayout","color","numberOfLines","_this$props4","onPress","ButtonContainerComponent","accessibilityComponentType","accessibilityLabel","accessibilityTraits","testID","delayPressIn","container","borderless","renderBackImage","maybeRenderTitle","PureComponent","defaultProps","create","alignItems","flexDirection","backgroundColor","marginBottom","overflow","fontSize","paddingRight","height","marginLeft","marginRight","marginVertical","resizeMode","transform","scaleX","isRTL"],"sources":["/Users/zuyax/Developer/rn-starter/node_modules/react-navigation-stack/lib/module/views/Header/ModularHeaderBackButton.tsx"],"sourcesContent":["import * as React from 'react';\nimport {\n  I18nManager,\n  Image,\n  Text,\n  View,\n  StyleSheet,\n  LayoutChangeEvent,\n} from 'react-native';\n\nimport TouchableItem from '../TouchableItem';\n\nimport defaultBackImage from '../assets/back-icon.png';\nimport { HeaderBackbuttonProps } from '../../types';\n\ntype Props = HeaderBackbuttonProps & {\n  LabelContainerComponent: React.ComponentType;\n  ButtonContainerComponent: React.ComponentType;\n};\n\ntype State = {\n  initialTextWidth?: number;\n};\n\nclass ModularHeaderBackButton extends React.PureComponent<Props, State> {\n  static defaultProps = {\n    tintColor: '#037aff',\n    truncatedTitle: 'Back',\n  };\n\n  state: State = {};\n\n  private onTextLayout = (e: LayoutChangeEvent) => {\n    if (this.state.initialTextWidth) {\n      return;\n    }\n    this.setState({\n      initialTextWidth: e.nativeEvent.layout.x + e.nativeEvent.layout.width,\n    });\n  };\n\n  private renderBackImage() {\n    const { backImage, backTitleVisible, tintColor } = this.props;\n\n    if (React.isValidElement(backImage)) {\n      return backImage;\n    } else if (backImage) {\n      const BackImage = backImage;\n\n      return <BackImage tintColor={tintColor} />;\n    } else {\n      return (\n        <Image\n          style={[\n            styles.icon,\n            !!backTitleVisible && styles.iconWithTitle,\n            !!tintColor && { tintColor },\n          ]}\n          source={defaultBackImage}\n        />\n      );\n    }\n  }\n\n  private getTitleText = () => {\n    const { width, title, truncatedTitle } = this.props;\n\n    let { initialTextWidth } = this.state;\n\n    if (title === null) {\n      return null;\n    } else if (!title) {\n      return truncatedTitle;\n    } else if (initialTextWidth && width && initialTextWidth > width) {\n      return truncatedTitle;\n    } else {\n      return title.length > 8 ? truncatedTitle : title;\n    }\n  };\n\n  private maybeRenderTitle() {\n    const { backTitleVisible, titleStyle, tintColor } = this.props;\n    let backTitleText = this.getTitleText();\n\n    if (!backTitleVisible || backTitleText === null) {\n      return null;\n    }\n\n    const { LabelContainerComponent } = this.props;\n\n    return (\n      <LabelContainerComponent>\n        <Text\n          accessible={false}\n          onLayout={this.onTextLayout}\n          style={[\n            styles.title,\n            !!tintColor && { color: tintColor },\n            titleStyle,\n          ]}\n          numberOfLines={1}\n        >\n          {this.getTitleText()}\n        </Text>\n      </LabelContainerComponent>\n    );\n  }\n\n  render() {\n    const { onPress, title } = this.props;\n    const { ButtonContainerComponent } = this.props;\n\n    return (\n      <TouchableItem\n        accessibilityComponentType=\"button\"\n        accessibilityLabel={title ? `${title}, back` : 'Go back'}\n        accessibilityTraits=\"button\"\n        testID=\"header-back\"\n        delayPressIn={0}\n        onPress={onPress}\n        style={styles.container}\n        borderless\n      >\n        <View style={styles.container}>\n          <ButtonContainerComponent>\n            {this.renderBackImage()}\n          </ButtonContainerComponent>\n          {this.maybeRenderTitle()}\n        </View>\n      </TouchableItem>\n    );\n  }\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    alignItems: 'center',\n    flexDirection: 'row',\n    backgroundColor: 'transparent',\n    marginBottom: 1,\n    overflow: 'visible',\n  },\n  title: {\n    fontSize: 17,\n    paddingRight: 10,\n  },\n  icon: {\n    height: 21,\n    width: 12,\n    marginLeft: 9,\n    marginRight: 22,\n    marginVertical: 12,\n    resizeMode: 'contain',\n    transform: [{ scaleX: I18nManager.isRTL ? -1 : 1 }],\n  },\n  iconWithTitle: {\n    marginRight: 3,\n  },\n});\n\nexport default ModularHeaderBackButton;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}