{"ast":null,"code":"var _jsxFileName = \"/Users/zuyax/Developer/rn-starter/node_modules/expo-camera/build/Camera.js\";\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return typeof key === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (typeof input !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (typeof res !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\nimport { UnavailabilityError } from '@unimodules/core';\nimport mapValues from 'lodash/mapValues';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport findNodeHandle from \"react-native-web/dist/exports/findNodeHandle\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport ViewPropTypes from \"react-native-web/dist/exports/ViewPropTypes\";\nimport ExponentCamera from \"./ExponentCamera\";\nimport _CameraManager from \"./ExponentCameraManager\";\nvar CameraManager = _CameraManager;\nvar EventThrottleMs = 500;\nvar _PICTURE_SAVED_CALLBACKS = {};\nvar _GLOBAL_PICTURE_ID = 1;\nfunction ensurePictureOptions(options) {\n  var pictureOptions = options || {};\n  if (!pictureOptions || typeof pictureOptions !== 'object') {\n    pictureOptions = {};\n  }\n  if (!pictureOptions.quality) {\n    pictureOptions.quality = 1;\n  }\n  if (pictureOptions.onPictureSaved) {\n    var id = _GLOBAL_PICTURE_ID++;\n    _PICTURE_SAVED_CALLBACKS[id] = pictureOptions.onPictureSaved;\n    pictureOptions.id = id;\n    pictureOptions.fastMode = true;\n  }\n  return pictureOptions;\n}\nfunction ensureRecordingOptions(options) {\n  var recordingOptions = options || {};\n  if (!recordingOptions || typeof recordingOptions !== 'object') {\n    recordingOptions = {};\n  } else if (typeof recordingOptions.quality === 'string') {\n    recordingOptions.quality = Camera.Constants.VideoQuality[recordingOptions.quality];\n  }\n  return recordingOptions;\n}\nfunction ensureNativeProps(options) {\n  var props = options || {};\n  if (!props || typeof props !== 'object') {\n    props = {};\n  }\n  var newProps = mapValues(props, convertProp);\n  var propsKeys = Object.keys(newProps);\n  if (!propsKeys.includes('barCodeScannerSettings') && propsKeys.includes('barCodeTypes')) {\n    console.warn(\"The \\\"barCodeTypes\\\" prop for Camera is deprecated and will be removed in SDK 34. Use \\\"barCodeScannerSettings\\\" instead.\");\n    newProps.barCodeScannerSettings = {\n      barCodeTypes: newProps.barCodeTypes\n    };\n  }\n  if (props.onBarCodeScanned) {\n    newProps.barCodeScannerEnabled = true;\n  }\n  if (props.onFacesDetected) {\n    newProps.faceDetectorEnabled = true;\n  }\n  if (Platform.OS !== 'android') {\n    delete newProps.ratio;\n    delete newProps.useCamera2Api;\n  }\n  return newProps;\n}\nfunction convertProp(value, key) {\n  if (typeof value === 'string' && Camera.ConversionTables[key]) {\n    return Camera.ConversionTables[key][value];\n  }\n  return value;\n}\nfunction _onPictureSaved(_ref) {\n  var {\n    nativeEvent\n  } = _ref;\n  var {\n    id,\n    data\n  } = nativeEvent;\n  var callback = _PICTURE_SAVED_CALLBACKS[id];\n  if (callback) {\n    callback(data);\n    delete _PICTURE_SAVED_CALLBACKS[id];\n  }\n}\nexport default class Camera extends React.Component {\n  constructor() {\n    super(...arguments);\n    this._lastEvents = {};\n    this._lastEventsTimes = {};\n    this._onCameraReady = () => {\n      if (this.props.onCameraReady) {\n        this.props.onCameraReady();\n      }\n    };\n    this._onMountError = _ref2 => {\n      var {\n        nativeEvent\n      } = _ref2;\n      if (this.props.onMountError) {\n        this.props.onMountError(nativeEvent);\n      }\n    };\n    this._onObjectDetected = callback => _ref3 => {\n      var {\n        nativeEvent\n      } = _ref3;\n      var {\n        type\n      } = nativeEvent;\n      if (this._lastEvents[type] && this._lastEventsTimes[type] && JSON.stringify(nativeEvent) === this._lastEvents[type] && new Date().getTime() - this._lastEventsTimes[type].getTime() < EventThrottleMs) {\n        return;\n      }\n      if (callback) {\n        callback(nativeEvent);\n        this._lastEventsTimes[type] = new Date();\n        this._lastEvents[type] = JSON.stringify(nativeEvent);\n      }\n    };\n    this._setReference = ref => {\n      if (ref) {\n        this._cameraRef = ref;\n        if (Platform.OS === 'web') {\n          this._cameraHandle = ref;\n        } else {\n          this._cameraHandle = findNodeHandle(ref);\n        }\n      } else {\n        this._cameraRef = null;\n        this._cameraHandle = null;\n      }\n    };\n  }\n  takePictureAsync(options) {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      var pictureOptions = ensurePictureOptions(options);\n      return yield CameraManager.takePicture(pictureOptions, _this._cameraHandle);\n    })();\n  }\n  getSupportedRatiosAsync() {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      if (!CameraManager.getSupportedRatios) {\n        throw new UnavailabilityError('Camera', 'getSupportedRatiosAsync');\n      }\n      return yield CameraManager.getSupportedRatios(_this2._cameraHandle);\n    })();\n  }\n  getAvailablePictureSizesAsync(ratio) {\n    var _this3 = this;\n    return _asyncToGenerator(function* () {\n      if (!CameraManager.getAvailablePictureSizes) {\n        throw new UnavailabilityError('Camera', 'getAvailablePictureSizesAsync');\n      }\n      return yield CameraManager.getAvailablePictureSizes(ratio, _this3._cameraHandle);\n    })();\n  }\n  recordAsync(options) {\n    var _this4 = this;\n    return _asyncToGenerator(function* () {\n      if (!CameraManager.record) {\n        throw new UnavailabilityError('Camera', 'recordAsync');\n      }\n      var recordingOptions = ensureRecordingOptions(options);\n      return yield CameraManager.record(recordingOptions, _this4._cameraHandle);\n    })();\n  }\n  stopRecording() {\n    if (!CameraManager.stopRecording) {\n      throw new UnavailabilityError('Camera', 'stopRecording');\n    }\n    CameraManager.stopRecording(this._cameraHandle);\n  }\n  pausePreview() {\n    if (!CameraManager.pausePreview) {\n      throw new UnavailabilityError('Camera', 'pausePreview');\n    }\n    CameraManager.pausePreview(this._cameraHandle);\n  }\n  resumePreview() {\n    if (!CameraManager.resumePreview) {\n      throw new UnavailabilityError('Camera', 'resumePreview');\n    }\n    CameraManager.resumePreview(this._cameraHandle);\n  }\n  render() {\n    var nativeProps = ensureNativeProps(this.props);\n    var onBarCodeScanned = this._onObjectDetected(this.props.onBarCodeScanned);\n    var onFacesDetected = this._onObjectDetected(this.props.onFacesDetected);\n    return React.createElement(ExponentCamera, _extends({}, nativeProps, {\n      ref: this._setReference,\n      onCameraReady: this._onCameraReady,\n      onMountError: this._onMountError,\n      onBarCodeScanned: onBarCodeScanned,\n      onFacesDetected: onFacesDetected,\n      onPictureSaved: _onPictureSaved,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171\n      }\n    }));\n  }\n}\nCamera.Constants = {\n  Type: CameraManager.Type,\n  FlashMode: CameraManager.FlashMode,\n  AutoFocus: CameraManager.AutoFocus,\n  WhiteBalance: CameraManager.WhiteBalance,\n  VideoQuality: CameraManager.VideoQuality,\n  VideoStabilization: CameraManager.VideoStabilization || {}\n};\nCamera.ConversionTables = {\n  type: CameraManager.Type,\n  flashMode: CameraManager.FlashMode,\n  autoFocus: CameraManager.AutoFocus,\n  whiteBalance: CameraManager.WhiteBalance\n};\nCamera.propTypes = _objectSpread({}, ViewPropTypes, {\n  zoom: PropTypes.number,\n  ratio: PropTypes.string,\n  focusDepth: PropTypes.number,\n  onMountError: PropTypes.func,\n  pictureSize: PropTypes.string,\n  onCameraReady: PropTypes.func,\n  useCamera2Api: PropTypes.bool,\n  onBarCodeScanned: PropTypes.func,\n  barCodeScannerSettings: PropTypes.object,\n  onFacesDetected: PropTypes.func,\n  faceDetectorSettings: PropTypes.object,\n  type: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  flashMode: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  videoStabilizationMode: PropTypes.number,\n  whiteBalance: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  autoFocus: PropTypes.oneOfType([PropTypes.string, PropTypes.number, PropTypes.bool])\n});\nCamera.defaultProps = {\n  zoom: 0,\n  ratio: '4:3',\n  focusDepth: 0,\n  faceDetectorSettings: {},\n  type: CameraManager.Type.back,\n  autoFocus: CameraManager.AutoFocus.on,\n  flashMode: CameraManager.FlashMode.off,\n  whiteBalance: CameraManager.WhiteBalance.auto\n};\nexport var Constants = Camera.Constants;","map":{"version":3,"names":["UnavailabilityError","mapValues","PropTypes","React","findNodeHandle","Platform","ViewPropTypes","ExponentCamera","_CameraManager","CameraManager","EventThrottleMs","_PICTURE_SAVED_CALLBACKS","_GLOBAL_PICTURE_ID","ensurePictureOptions","options","pictureOptions","quality","onPictureSaved","id","fastMode","ensureRecordingOptions","recordingOptions","Camera","Constants","VideoQuality","ensureNativeProps","props","newProps","convertProp","propsKeys","Object","keys","includes","console","warn","barCodeScannerSettings","barCodeTypes","onBarCodeScanned","barCodeScannerEnabled","onFacesDetected","faceDetectorEnabled","OS","ratio","useCamera2Api","value","key","ConversionTables","_onPictureSaved","_ref","nativeEvent","data","callback","Component","constructor","_lastEvents","_lastEventsTimes","_onCameraReady","onCameraReady","_onMountError","_ref2","onMountError","_onObjectDetected","_ref3","type","JSON","stringify","Date","getTime","_setReference","ref","_cameraRef","_cameraHandle","takePictureAsync","_this","_asyncToGenerator","takePicture","getSupportedRatiosAsync","_this2","getSupportedRatios","getAvailablePictureSizesAsync","_this3","getAvailablePictureSizes","recordAsync","_this4","record","stopRecording","pausePreview","resumePreview","render","nativeProps","createElement","_extends","__source","fileName","_jsxFileName","lineNumber","Type","FlashMode","AutoFocus","WhiteBalance","VideoStabilization","flashMode","autoFocus","whiteBalance","propTypes","_objectSpread","zoom","number","string","focusDepth","func","pictureSize","bool","object","faceDetectorSettings","oneOfType","videoStabilizationMode","defaultProps","back","on","off","auto"],"sources":["/Users/zuyax/Developer/rn-starter/node_modules/expo-camera/src/Camera.tsx"],"sourcesContent":["import { UnavailabilityError } from '@unimodules/core';\nimport mapValues from 'lodash/mapValues';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { findNodeHandle, Platform, ViewPropTypes } from 'react-native';\nimport {\n  CapturedPicture,\n  NativeProps,\n  PictureOptions,\n  Props,\n  RecordingOptions,\n} from './Camera.types';\nimport ExponentCamera from './ExponentCamera';\nimport _CameraManager from './ExponentCameraManager';\n\n// TODO: Bacon: Fix multiplatform\nconst CameraManager = _CameraManager as any;\n\nconst EventThrottleMs = 500;\n\nconst _PICTURE_SAVED_CALLBACKS = {};\n\nlet _GLOBAL_PICTURE_ID = 1;\n\nfunction ensurePictureOptions(options?: PictureOptions): PictureOptions {\n  let pictureOptions = options || {};\n\n  if (!pictureOptions || typeof pictureOptions !== 'object') {\n    pictureOptions = {};\n  }\n\n  if (!pictureOptions.quality) {\n    pictureOptions.quality = 1;\n  }\n  if (pictureOptions.onPictureSaved) {\n    const id = _GLOBAL_PICTURE_ID++;\n    _PICTURE_SAVED_CALLBACKS[id] = pictureOptions.onPictureSaved;\n    pictureOptions.id = id;\n    pictureOptions.fastMode = true;\n  }\n  return pictureOptions;\n}\n\nfunction ensureRecordingOptions(options?: RecordingOptions): RecordingOptions {\n  let recordingOptions = options || {};\n\n  if (!recordingOptions || typeof recordingOptions !== 'object') {\n    recordingOptions = {};\n  } else if (typeof recordingOptions.quality === 'string') {\n    recordingOptions.quality = Camera.Constants.VideoQuality[recordingOptions.quality];\n  }\n\n  return recordingOptions;\n}\n\nfunction ensureNativeProps(options?: Props): NativeProps {\n  let props = options || {};\n\n  if (!props || typeof props !== 'object') {\n    props = {};\n  }\n\n  const newProps: NativeProps = mapValues(props, convertProp);\n\n  const propsKeys = Object.keys(newProps);\n  // barCodeTypes is deprecated\n  if (!propsKeys.includes('barCodeScannerSettings') && propsKeys.includes('barCodeTypes')) {\n    console.warn(\n      `The \"barCodeTypes\" prop for Camera is deprecated and will be removed in SDK 34. Use \"barCodeScannerSettings\" instead.`\n    );\n    newProps.barCodeScannerSettings = {\n      // @ts-ignore\n      barCodeTypes: newProps.barCodeTypes,\n    };\n  }\n\n  if (props.onBarCodeScanned) {\n    newProps.barCodeScannerEnabled = true;\n  }\n\n  if (props.onFacesDetected) {\n    newProps.faceDetectorEnabled = true;\n  }\n\n  if (Platform.OS !== 'android') {\n    delete newProps.ratio;\n    delete newProps.useCamera2Api;\n  }\n\n  return newProps;\n}\n\nfunction convertProp(value: any, key: string): any {\n  if (typeof value === 'string' && Camera.ConversionTables[key]) {\n    return Camera.ConversionTables[key][value];\n  }\n\n  return value;\n}\n\nfunction _onPictureSaved({ nativeEvent }: { nativeEvent: { data: CapturedPicture; id: number } }) {\n  const { id, data } = nativeEvent;\n  const callback = _PICTURE_SAVED_CALLBACKS[id];\n  if (callback) {\n    callback(data);\n    delete _PICTURE_SAVED_CALLBACKS[id];\n  }\n}\n\nexport default class Camera extends React.Component<Props> {\n  static Constants = {\n    Type: CameraManager.Type,\n    FlashMode: CameraManager.FlashMode,\n    AutoFocus: CameraManager.AutoFocus,\n    WhiteBalance: CameraManager.WhiteBalance,\n    VideoQuality: CameraManager.VideoQuality,\n    VideoStabilization: CameraManager.VideoStabilization || {},\n  };\n\n  // Values under keys from this object will be transformed to native options\n  static ConversionTables = {\n    type: CameraManager.Type,\n    flashMode: CameraManager.FlashMode,\n    autoFocus: CameraManager.AutoFocus,\n    whiteBalance: CameraManager.WhiteBalance,\n  };\n\n  static propTypes = {\n    ...ViewPropTypes,\n    zoom: PropTypes.number,\n    ratio: PropTypes.string,\n    focusDepth: PropTypes.number,\n    onMountError: PropTypes.func,\n    pictureSize: PropTypes.string,\n    onCameraReady: PropTypes.func,\n    useCamera2Api: PropTypes.bool,\n    onBarCodeScanned: PropTypes.func,\n    barCodeScannerSettings: PropTypes.object,\n    onFacesDetected: PropTypes.func,\n    faceDetectorSettings: PropTypes.object,\n    type: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    flashMode: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    videoStabilizationMode: PropTypes.number,\n    whiteBalance: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    autoFocus: PropTypes.oneOfType([PropTypes.string, PropTypes.number, PropTypes.bool]),\n  };\n\n  static defaultProps: Props = {\n    zoom: 0,\n    ratio: '4:3',\n    focusDepth: 0,\n    faceDetectorSettings: {},\n    type: CameraManager.Type.back,\n    autoFocus: CameraManager.AutoFocus.on,\n    flashMode: CameraManager.FlashMode.off,\n    whiteBalance: CameraManager.WhiteBalance.auto,\n  };\n\n  _cameraHandle?: number | null;\n  _cameraRef?: React.Component | null;\n  _lastEvents: { [eventName: string]: string } = {};\n  _lastEventsTimes: { [eventName: string]: Date } = {};\n\n  async takePictureAsync(options?: PictureOptions): Promise<CapturedPicture> {\n    const pictureOptions = ensurePictureOptions(options);\n\n    return await CameraManager.takePicture(pictureOptions, this._cameraHandle);\n  }\n\n  async getSupportedRatiosAsync(): Promise<Array<string>> {\n    if (!CameraManager.getSupportedRatios) {\n      throw new UnavailabilityError('Camera', 'getSupportedRatiosAsync');\n    }\n\n    return await CameraManager.getSupportedRatios(this._cameraHandle);\n  }\n\n  async getAvailablePictureSizesAsync(ratio?: string): Promise<Array<string>> {\n    if (!CameraManager.getAvailablePictureSizes) {\n      throw new UnavailabilityError('Camera', 'getAvailablePictureSizesAsync');\n    }\n    return await CameraManager.getAvailablePictureSizes(ratio, this._cameraHandle);\n  }\n\n  async recordAsync(options?: RecordingOptions): Promise<{ uri: string }> {\n    if (!CameraManager.record) {\n      throw new UnavailabilityError('Camera', 'recordAsync');\n    }\n\n    const recordingOptions = ensureRecordingOptions(options);\n\n    return await CameraManager.record(recordingOptions, this._cameraHandle);\n  }\n\n  stopRecording() {\n    if (!CameraManager.stopRecording) {\n      throw new UnavailabilityError('Camera', 'stopRecording');\n    }\n\n    CameraManager.stopRecording(this._cameraHandle);\n  }\n\n  pausePreview() {\n    if (!CameraManager.pausePreview) {\n      throw new UnavailabilityError('Camera', 'pausePreview');\n    }\n\n    CameraManager.pausePreview(this._cameraHandle);\n  }\n\n  resumePreview() {\n    if (!CameraManager.resumePreview) {\n      throw new UnavailabilityError('Camera', 'resumePreview');\n    }\n\n    CameraManager.resumePreview(this._cameraHandle);\n  }\n\n  _onCameraReady = () => {\n    if (this.props.onCameraReady) {\n      this.props.onCameraReady();\n    }\n  };\n\n  _onMountError = ({ nativeEvent }: { nativeEvent: { message: string } }) => {\n    if (this.props.onMountError) {\n      this.props.onMountError(nativeEvent);\n    }\n  };\n\n  _onObjectDetected = (callback?: Function) => ({ nativeEvent }: { nativeEvent: any }) => {\n    const { type } = nativeEvent;\n    if (\n      this._lastEvents[type] &&\n      this._lastEventsTimes[type] &&\n      JSON.stringify(nativeEvent) === this._lastEvents[type] &&\n      new Date().getTime() - this._lastEventsTimes[type].getTime() < EventThrottleMs\n    ) {\n      return;\n    }\n\n    if (callback) {\n      callback(nativeEvent);\n      this._lastEventsTimes[type] = new Date();\n      this._lastEvents[type] = JSON.stringify(nativeEvent);\n    }\n  };\n\n  _setReference = (ref?: React.Component) => {\n    if (ref) {\n      this._cameraRef = ref;\n      // TODO: Bacon: Make this one...\n      if (Platform.OS === 'web') {\n        this._cameraHandle = ref as any;\n      } else {\n        this._cameraHandle = findNodeHandle(ref);\n      }\n    } else {\n      this._cameraRef = null;\n      this._cameraHandle = null;\n    }\n  };\n\n  render() {\n    const nativeProps = ensureNativeProps(this.props);\n\n    const onBarCodeScanned = this._onObjectDetected(this.props.onBarCodeScanned);\n    const onFacesDetected = this._onObjectDetected(this.props.onFacesDetected);\n\n    return (\n      <ExponentCamera\n        {...nativeProps}\n        ref={this._setReference}\n        onCameraReady={this._onCameraReady}\n        onMountError={this._onMountError}\n        onBarCodeScanned={onBarCodeScanned}\n        onFacesDetected={onFacesDetected}\n        onPictureSaved={_onPictureSaved}\n      />\n    );\n  }\n}\n\nexport const Constants = Camera.Constants;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}