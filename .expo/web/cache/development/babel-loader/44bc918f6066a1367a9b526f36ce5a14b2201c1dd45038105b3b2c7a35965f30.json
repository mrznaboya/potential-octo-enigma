{"ast":null,"code":"function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\nimport uuidv4 from 'uuid/v4';\nexport default {\n  get name() {\n    return 'ExpoDocumentPicker';\n  },\n  getDocumentAsync(_ref) {\n    return _asyncToGenerator(function* () {\n      var {\n        type = '*/*',\n        multiple = false\n      } = _ref;\n      var input = document.createElement('input');\n      input.style.display = 'none';\n      input.setAttribute('type', 'file');\n      input.setAttribute('accept', type);\n      input.setAttribute('id', uuidv4());\n      if (multiple) {\n        input.setAttribute('multiple', 'multiple');\n      }\n      document.body.appendChild(input);\n      return new Promise((resolve, reject) => {\n        input.addEventListener('change', () => {\n          if (input.files) {\n            var targetFile = input.files[0];\n            var reader = new FileReader();\n            reader.onerror = () => {\n              reject('Failed to read the selected media because the operation failed.');\n            };\n            reader.onload = _ref2 => {\n              var {\n                target\n              } = _ref2;\n              var uri = target.result;\n              resolve({\n                type: 'success',\n                uri,\n                name: targetFile.name,\n                file: targetFile,\n                lastModified: targetFile.lastModified,\n                size: targetFile.size,\n                output: input.files\n              });\n            };\n            reader.readAsDataURL(targetFile);\n          } else {\n            resolve({\n              type: 'cancel'\n            });\n          }\n          document.body.removeChild(input);\n        });\n        var event = new MouseEvent('click');\n        input.dispatchEvent(event);\n      });\n    })();\n  }\n};","map":{"version":3,"names":["uuidv4","name","getDocumentAsync","_ref","_asyncToGenerator","type","multiple","input","document","createElement","style","display","setAttribute","body","appendChild","Promise","resolve","reject","addEventListener","files","targetFile","reader","FileReader","onerror","onload","_ref2","target","uri","result","file","lastModified","size","output","readAsDataURL","removeChild","event","MouseEvent","dispatchEvent"],"sources":["/Users/zuyax/Developer/rn-starter/node_modules/expo-document-picker/src/ExpoDocumentPicker.web.ts"],"sourcesContent":["import uuidv4 from 'uuid/v4';\n\nimport { DocumentResult, DocumentPickerOptions } from './types';\n\nexport default {\n  get name(): string {\n    return 'ExpoDocumentPicker';\n  },\n\n  async getDocumentAsync({\n    type = '*/*',\n    multiple = false,\n  }: DocumentPickerOptions): Promise<DocumentResult> {\n    const input = document.createElement('input');\n    input.style.display = 'none';\n    input.setAttribute('type', 'file');\n    input.setAttribute('accept', type);\n    input.setAttribute('id', uuidv4());\n    if (multiple) {\n      input.setAttribute('multiple', 'multiple');\n    }\n\n    document.body.appendChild(input);\n\n    return new Promise((resolve, reject) => {\n      input.addEventListener('change', () => {\n        if (input.files) {\n          const targetFile = input.files[0];\n          const reader = new FileReader();\n          reader.onerror = () => {\n            reject('Failed to read the selected media because the operation failed.');\n          };\n          reader.onload = ({ target }) => {\n            const uri = (target as any).result;\n            resolve({\n              type: 'success',\n              uri,\n              name: targetFile.name,\n              file: targetFile,\n              lastModified: targetFile.lastModified,\n              size: targetFile.size,\n              output: input.files,\n            });\n          };\n          // Read in the image file as a binary string.\n          reader.readAsDataURL(targetFile);\n        } else {\n          resolve({ type: 'cancel' });\n        }\n\n        document.body.removeChild(input);\n      });\n\n      const event = new MouseEvent('click');\n      input.dispatchEvent(event);\n    });\n  },\n};\n"],"mappings":";;AAAA,OAAOA,MAAM,MAAM,SAAS;AAI5B,eAAe;EACb,IAAIC,IAAIA,CAAA;IACN,OAAO,oBAAoB;EAC7B,CAAC;EAEKC,gBAAgBA,CAAAC,IAAA,EAGE;IAAA,OAAAC,iBAAA;MAAA,IAHD;QACrBC,IAAI,GAAG,KAAK;QACZC,QAAQ,GAAG;MAAK,CACM,GAAAH,IAAA;MACtB,IAAMI,KAAK,GAAGC,QAAQ,CAACC,aAAa,CAAC,OAAO,CAAC;MAC7CF,KAAK,CAACG,KAAK,CAACC,OAAO,GAAG,MAAM;MAC5BJ,KAAK,CAACK,YAAY,CAAC,MAAM,EAAE,MAAM,CAAC;MAClCL,KAAK,CAACK,YAAY,CAAC,QAAQ,EAAEP,IAAI,CAAC;MAClCE,KAAK,CAACK,YAAY,CAAC,IAAI,EAAEZ,MAAM,EAAE,CAAC;MAClC,IAAIM,QAAQ,EAAE;QACZC,KAAK,CAACK,YAAY,CAAC,UAAU,EAAE,UAAU,CAAC;;MAG5CJ,QAAQ,CAACK,IAAI,CAACC,WAAW,CAACP,KAAK,CAAC;MAEhC,OAAO,IAAIQ,OAAO,CAAC,CAACC,OAAO,EAAEC,MAAM,KAAI;QACrCV,KAAK,CAACW,gBAAgB,CAAC,QAAQ,EAAE,MAAK;UACpC,IAAIX,KAAK,CAACY,KAAK,EAAE;YACf,IAAMC,UAAU,GAAGb,KAAK,CAACY,KAAK,CAAC,CAAC,CAAC;YACjC,IAAME,MAAM,GAAG,IAAIC,UAAU,EAAE;YAC/BD,MAAM,CAACE,OAAO,GAAG,MAAK;cACpBN,MAAM,CAAC,iEAAiE,CAAC;YAC3E,CAAC;YACDI,MAAM,CAACG,MAAM,GAAGC,KAAA,IAAe;cAAA,IAAd;gBAAEC;cAAM,CAAE,GAAAD,KAAA;cACzB,IAAME,GAAG,GAAID,MAAc,CAACE,MAAM;cAClCZ,OAAO,CAAC;gBACNX,IAAI,EAAE,SAAS;gBACfsB,GAAG;gBACH1B,IAAI,EAAEmB,UAAU,CAACnB,IAAI;gBACrB4B,IAAI,EAAET,UAAU;gBAChBU,YAAY,EAAEV,UAAU,CAACU,YAAY;gBACrCC,IAAI,EAAEX,UAAU,CAACW,IAAI;gBACrBC,MAAM,EAAEzB,KAAK,CAACY;eACf,CAAC;YACJ,CAAC;YAEDE,MAAM,CAACY,aAAa,CAACb,UAAU,CAAC;WACjC,MAAM;YACLJ,OAAO,CAAC;cAAEX,IAAI,EAAE;YAAQ,CAAE,CAAC;;UAG7BG,QAAQ,CAACK,IAAI,CAACqB,WAAW,CAAC3B,KAAK,CAAC;QAClC,CAAC,CAAC;QAEF,IAAM4B,KAAK,GAAG,IAAIC,UAAU,CAAC,OAAO,CAAC;QACrC7B,KAAK,CAAC8B,aAAa,CAACF,KAAK,CAAC;MAC5B,CAAC,CAAC;IAAC;EACL;CACD"},"metadata":{},"sourceType":"module","externalDependencies":[]}